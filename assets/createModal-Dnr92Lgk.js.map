{"version":3,"file":"createModal-Dnr92Lgk.js","sources":["../../src/img/in01.jpg","../../src/img/in02.jpg","../../src/img/in03.jpg","../../src/img/in04.jpg","../../src/img/in05.jpg","../../src/img/in06.jpg","../../src/img/in07.jpg","../../src/img/in08.jpg","../../src/img/in09.jpg","../../src/img/in10.jpg","../../src/instruments.js","../../src/helpers/createMarkup.js","../../src/helpers/closeModal.js","../../src/img/close.png","../../src/common.js","../../src/helpers/findProduct.js","../../src/helpers/favoriteFun.js","../../src/helpers/createModal.js"],"sourcesContent":["export default \"__VITE_ASSET__CMkE2iFz__\"","export default \"__VITE_ASSET__Bng6hZpF__\"","export default \"__VITE_ASSET__18xebqdW__\"","export default \"__VITE_ASSET__vpFIsFcG__\"","export default \"__VITE_ASSET__B2KMLBiM__\"","export default \"__VITE_ASSET__Cje38KSZ__\"","export default \"__VITE_ASSET__DhUsQF7c__\"","export default \"__VITE_ASSET__7aZKeGFB__\"","export default \"__VITE_ASSET__mMw45eTM__\"","export default \"__VITE_ASSET__pHLDLi5h__\"","export { instruments };\n\nimport  in01  from './img/in01.jpg';\nimport  in02  from './img/in02.jpg';\nimport  in03  from './img/in03.jpg';\nimport  in04  from './img/in04.jpg';\nimport  in05  from './img/in05.jpg';\nimport  in06  from './img/in06.jpg';\nimport  in07  from './img/in07.jpg';\nimport  in08  from './img/in08.jpg';\nimport  in09  from './img/in09.jpg';\nimport  in10  from './img/in10.jpg';\n\nconst instruments = [\n     {\n  id: 1,\n  img: in01,\n  name: \"Шуруповерт\",\n  price: 1500,\n  description: \"Мережевий дриль-шуруповерт ТD-30-Надійний помічник для робіт по дому\"\n     },\n     {\n  id: 2,\n  img: in02,\n  name: \"Перфоратор\",\n  price: 3948,\n  description: \"Перфоратор бочковий Dnipro-M BH-20 Використовується для сверління\"\n    },\n\n      {\n id: 3,\n img: in03,\n name: \"Шліфмашина\",\n price: 1299,\n description: \"Кутова шліфмашина Dnipro-M GS-98 - модель яка поєднує в собі\"\n   },\n    {\n id: 4,\n img: in04,\n name: \"Пила\",\n price: 11049,\n description: \"Мобільна акумуляторна ланцюгова пила DCS-200BC DUAL\"\n   }, \n   {\n id: 5,\n img: in05,\n name: \"Рівень\",\n price: 897,\n description: \"Рівень серії ProVision виробництва DNIPRO-M\"\n    },\n  \n    {\n id: 6,\n img: in06,\n name: \"Тример\",\n price: 3699,\n description: \"Тример електричний Dnipro-M 110 призначений для покосу трави\"\n    },\n     \n    {\n id: 7,\n img: in07,\n name: \"Мотокоса\",\n price: 11049,\n description: \"Мотокоса Dnipro-M 43 призначений для покосу трави, чагарників, бур'янів\"\n    },\n\n    {\n        id: 8,\n img: in08,\n name: \"Генератор\",\n price: 10890,\n description: \"Бензиновый генератор Dnipro-M GX-25 номінальною потужністю 2,5 кВт\"\n    },  \n\n    {\n        id: 9,\n img: in09,\n name: \"Культиватор\",\n price: 10890,\n description: \"Культиватор електричний Dnipro-M 40\"\n    },  \n\n    {\n        id: 10,\n img: in10,\n name: \"Лобзик електричний\",\n price: 10890,\n description: \"Лобзик електричний Dnipro-M JS-80LX + Набір пиляльних полотен 5 шт\"\n    },  \n];","function createMarkup(arr, list){\n    // console.log(arr.length);\n    let markup;\n    if(arr.length){\n        markup =  arr.map(({id, img, name})=>`\n                    <li data-id=${id} class=\"card js-card\">\n                    <img src=\"${img}\" alt=\"${name}\" width=\"300\">\n                    <h2>${name}</h2>\n                    <p><a href=\"#\" class=\"info js-info\">More Information</a></p>\n                    <div>\n                    <button class=\"js-favorite\" type=\"button\">Add to favorite</button>\n                    <button class=\"js-basket\" type=\"button\">Add to basket</button>\n                    </div>\n                    </li>\n                    `).join('');\n                list.innerHTML = markup;\n    }else{\n        markup =   `<li class=\"js-card\">\n                    <img src=\"img/no_img.png\" alt=\"404\" width=\"300\">\n                    </li>`\n                list.innerHTML = markup;\n    }\n};\n\nexport { createMarkup };\n\n// const arr02 = [];\n// console.log(arr02.length);","function closeMadal(evt){\n    if(evt.code === 'Escape'){\n      this.close();\n    }\n}\n\nexport { closeMadal };","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB6SURBVHgB7ZVBCsAgDASXvmR/aH/cp1gPHkqRmjRqEDLgRdcMiBogCIKFnGVQkWfdY5bmMi7I5KzZDKOcj0I9uSY7TC7JDJd/rU2Tt+amwJdoibQl/y09sAmEw1ETDpeLcHhOhMMHQkVBTbaLpUkkGEnQt0WzNAgCMTf64Es4we8RJwAAAABJRU5ErkJggg==\"","const common ={\n        KEY_FAVORITE: 'favorite',\n        KEY_BASKET: 'basket',\n};\n\nexport { common }","function findProduct(elem, arr){\n    const productId = Number(elem.closest('.js-card').dataset.id)\n    return arr.find(({id}) => id === productId);\n}\n\n\nexport {findProduct};","import { common } from '../common';\nconst{ KEY_FAVORITE, KEY_BASKET }=common;\nimport { instruments } from '../instruments';\nimport { findProduct } from './findProduct';\n\nconst favoriteArr = JSON.parse(localStorage.getItem(KEY_FAVORITE)) ?? [];\nconsole.log( favoriteArr);\nconst basketArr = JSON.parse(localStorage.getItem(KEY_BASKET)) ?? [];\nconsole.log( basketArr);\n\nfunction toFavorite(elemFuv){\n console.log(elemFuv);\n        const product = findProduct(elemFuv, instruments);\n        console.log(product);\n        const inStorage = favoriteArr.some(({ id })=> id === product.id)\n        if(inStorage){\n            return\n        }\n        console.log(product);\n        console.log(favoriteArr);\n        favoriteArr.push(product);\n        console.log(favoriteArr);\n        localStorage.setItem(KEY_FAVORITE, JSON.stringify(favoriteArr));\n    }\n\n\n\n function toBusket(elemBus){\n     const product = findProduct(elemBus, instruments);\n        const inStorage = basketArr.some(({ id })=> id === product.id)\n        if(inStorage){\n            return\n        }\n        console.log(product);\n        basketArr.push(product);\n        console.log(basketArr);\n        localStorage.setItem(KEY_BASKET, JSON.stringify(basketArr))\n }\n\n//     function findProduct(elem){\n//     const productId = Number(elem.closest('.js-card').dataset.id)\n//     return instruments.find(({id}) => id === productId);\n// }\n\n\nexport { toFavorite, toBusket };  \n","import * as basicLightbox from 'basiclightbox'\nimport \"basiclightbox/dist/basicLightbox.min.css\";\n\nimport { closeMadal } from './closeModal';\nimport closeIcon from '../img/close.png';\n// const list = document.querySelector('.js-list');\nimport { \n    toFavorite,\n    toBusket,\n                } from './favoriteFun';\n\n\nfunction createModal({img, name, price, description, id}){\n//   const option = {\n//     handler: null,\n//     onShow(instance){\n//       console.log(this);\n//       this.handler = closeMadal.bind(instance);\n//     document.addEventListener('keydown', closeModal);\n//   },\n//   onClose(){\n//      console.log(this);\n//   },\n  \n// };\nconsole.log(id);\n\n  \n     const instance = basicLightbox.create(`\n\t    <div class=\"modal js-card\" data-id=${id}>\n            <div class=\"cross\">\n                 <img src=${closeIcon} alt=\"close\">\n            </div>\n            <img src=\"${img}\" alt=\"${name}\" width=\"300\">\n            <h2>${name}</h2>\n            <h3>${price}point</h3>\n            <p>${description}</p>\n              <div>\n                  <button class=\"js-favorite\" type=\"button\">Add to favorite</button>\n                  <button class=\"js-basket\" type=\"button\">Add to basket</button>\n              </div>\n        </div>\n`, {\n    handler: null,\n    onShow(instance){\n      console.log(this);\n      this.handler = closeMadal.bind(instance);\n    document.addEventListener('keydown', this.handler);\n\n \n \n  },\n    onClose(){\n      console.log(this);\n      document.removeEventListener('keydown', this.handler);\n      cross.removeEventListener('click', toClose);\n  },\n  \n});\n\n\n// cross.addEventListener('click', toClose);\n// function toClose(){\n//   console.log('whoa!');\n// }\ninstance.show();\n// function closeMadal(evt){\n//     if(evt.code === 'Escape'){\n//       instance.close();\n//     }\n  const cross = document.querySelector('.cross');\n    console.log(cross);\n    cross.addEventListener('click', toClose);\n  function toClose(){\n    console.log('whoa!');\n    instance.close();\n }\n\n const modal = document.querySelector('.modal');\n console.log(modal);\n modal.addEventListener('click', onClick);\n function onClick(evt){\n if(evt.target.classList.contains('js-favorite')){\n    console.log('Hi', evt.target);\n    toFavorite(evt.target);\n }\n\n  if(evt.target.classList.contains('js-basket')){\n        toBusket(evt.target);\n\n}\n}\n\n}\n\n\nexport { createModal };"],"names":["in01","in02","in03","in04","in05","in06","in07","in08","in09","in10","instruments","createMarkup","arr","list","markup","id","img","name","closeMadal","evt","closeIcon","common","findProduct","elem","productId","KEY_FAVORITE","KEY_BASKET","favoriteArr","basketArr","toFavorite","elemFuv","product","toBusket","elemBus","createModal","price","description","instance","basicLightbox.create","cross","toClose","modal","onClick"],"mappings":"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"}